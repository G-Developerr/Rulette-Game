<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1, user-scalable=no">
    <title>Roulette Game</title>
    <style>
        h1 {
            color: rgb(218, 153, 14);
            text-align: center;
        }

        body {
            
            font-family: Arial, sans-serif;
            background-image: url('photo.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            width:100%;
            margin: 0;
        }
        .roulette-container {
            position: relative;
            width: 300px;
            height: 300px;
            border: 10px solid #e74c3c;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);
        }

        .roulette-spinner,
        .roulette-numbers {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transform-origin: center;
        }

        .roulette-spinner {
            background: conic-gradient(
                black 0% 2.63%, red 2.63% 5.26%, black 5.26% 7.89%, red 7.89% 10.52%, 
                black 10.52% 13.15%, red 13.15% 15.78%, black 15.78% 18.41%, red 18.41% 21.04%, 
                black 21.04% 23.68%, red 23.68% 26.31%, black 26.31% 28.94%, red 28.94% 31.57%, 
                black 31.57% 34.2%, red 34.2% 36.83%, black 36.83% 39.46%, red 39.46% 42.1%, 
                black 42.1% 44.73%, red 44.73% 47.36%, black 47.36% 50%, red 50% 52.63%, 
                black 52.63% 55.26%, red 55.26% 57.89%, black 57.89% 60.52%, red 60.52% 63.15%, 
                black 63.15% 65.78%, red 65.78% 68.41%, black 68.41% 71.04%, red 71.04% 73.68%, 
                black 73.68% 76.31%, red 76.31% 78.94%, black 78.94% 81.57%, red 81.57% 84.2%, 
                black 84.2% 86.83%, red 86.83% 89.46%, black 89.46% 92.1%, red 92.1% 94.73%, 
                black 94.73% 97.36%, red 97.36% 100%
            );
        }

        .roulette-number {
            position: absolute;
            font-size: 12px;
            color: white;
            transform-origin: center;
            text-align: center;
        }

        .pointer {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 40px;
            background-color: yellow;
            z-index: 10;
            clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
        }

        .status {
            margin-top: 20px;
            font-size: 18px;
        }

        .status.red {
            color: red;
        }

        .status.green {
            color: green;
        }

        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #2980b9;
        }

        .balance-display {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #34495e;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 16px;
        }

    </style>
</head>
<body>
    <h1> Roulette Game</h1>
    <p>Guess a number between 1 and 38!</p>

    <div class="roulette-container">
        <div class="pointer"></div>
        <div class="roulette-spinner" id="roulette-spinner"></div>
        <div class="roulette-numbers" id="roulette-numbers"></div>
    </div>

    <div class="balance-display" id="balance-display">Total Balance: $450</div>

    <div>
        <label for="bet-amount">Enter your bet amount: $</label>
        <input type="number" id="bet-amount" min="1" />
    </div>

    <div>
        <label for="guess-number">Guess a number (1-38):</label>
        <input type="number" id="guess-number" min="1" max="38" />
    </div>

    <div class="bet-buttons">
        <button onclick="setBetAmount(10)">$10 Bet</button>
        <button onclick="setBetAmount(20)">$20 Bet</button>
        <button onclick="setBetAmount(50)">$50 Bet</button>
    </div>

    <button onclick="playGame()">Spin the Roulette</button>

    <div class="status" id="status">Welcome to the Roulette Game! Your balance is $450.</div>

    <script>
        const totalNumbers = 38;
        let balance = 450;
        let currentRotation = 0;

        function createRouletteNumbers() {
            const numbersContainer = document.getElementById("roulette-numbers");
            const radius = 140;

            for (let i = 1; i <= totalNumbers; i++) {
                const angle = (360 / totalNumbers) * i;
                const x = radius * Math.cos((angle - 90) * Math.PI / 180);
                const y = radius * Math.sin((angle - 90) * Math.PI / 180);

                const numberElement = document.createElement("div");
                numberElement.className = "roulette-number";
                numberElement.textContent = i;
                numberElement.style.left = `calc(50% + ${x}px)`;
                numberElement.style.top = `calc(50% + ${y}px)`;
                numberElement.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;
                numbersContainer.appendChild(numberElement);
            }
        }

        function updateBalanceDisplay() {
            document.getElementById('balance-display').textContent = `Total Balance: $${balance}`;
        }

        function setBetAmount(amount) {
            document.getElementById('bet-amount').value = amount;
        }

        function playGame() {
            const spinner = document.getElementById('roulette-spinner');
            const numbers = document.getElementById('roulette-numbers');
            const betAmount = parseInt(document.getElementById('bet-amount').value);
            const guessNumber = parseInt(document.getElementById('guess-number').value);
            const status = document.getElementById('status');

            function calculateWinningNumber(rotation, totalNumbers) {
    const degreesPerNumber = 360 / totalNumbers; // Μοίρες για κάθε αριθμό
    const normalizedRotation = rotation % 360; // Κανονικοποιημένη περιστροφή (0 - 359 μοίρες)
    const winningIndex = Math.round(normalizedRotation / degreesPerNumber); // Στρογγυλοποίηση για τον κοντινότερο αριθμό
    return winningIndex === 0 ? totalNumbers : totalNumbers - winningIndex;
         }  


            if (!betAmount || betAmount <= 0 || betAmount > balance || !guessNumber || guessNumber < 1 || guessNumber > 38) {
                status.textContent = "Invalid bet or guess!";
                status.className = "status red";
                return;
            }

            const spins = Math.floor(Math.random() * 5) + 5;
            const degreesPerNumber = 360 / totalNumbers;
            const randomStop = Math.floor(Math.random() * totalNumbers);
            const targetRotation = 360 * spins + (randomStop * degreesPerNumber);

            spinner.style.transition = "transform 4s ease-out";
            numbers.style.transition = "transform 4s ease-out";

            spinner.style.transform = `rotate(${targetRotation}deg)`;
            numbers.style.transform = `rotate(${targetRotation}deg)`; // Περιστροφή των αριθμών

            setTimeout(() => {
    const winningNumber = calculateWinningNumber(targetRotation, totalNumbers);
    if (winningNumber === guessNumber) {
        balance += betAmount * 3;
        status.textContent = `You won! The winning number is ${winningNumber}.`;
        status.className = "status green";
    } else {
        balance -= betAmount;
        status.textContent = `You lost! The winning number is ${winningNumber}.`;
        status.className = "status red";
    }
    updateBalanceDisplay();
}, 4000);
        }
        window.onload = createRouletteNumbers;
    </script>
</body>
</html>
